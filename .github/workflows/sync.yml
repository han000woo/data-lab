name: Sync Fork (no push)

on:
  schedule:
    - cron: '0 * * * *' # 매시간 실행
  workflow_dispatch:

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout fork repo
        uses: actions/checkout@v3

      - name: Add upstream (원본 연결)
        run: git remote add upstream https://github.com/han000woo/data-lab.git

      - name: Fetch upstream (원본 읽기)
        run: git fetch upstream

      - name: Compare branches
        run: |
          echo "===== FETCHED COMMITS ====="
          git log HEAD..upstream/main --oneline || echo "No new commits from upstream."

